## [ğŸ“€ 494. Target Sum](https://leetcode.com/problems/target-sum/)
èƒŒåŒ…é—®é¢˜çš„å˜å½¢ï¼Œä¸€å®šè¦è®°å¾—ç”¨DPã€‚

## DP Best Version
ç»“åˆäº†ä¸¤ä¸ªä¼˜åŒ–ï¼šä»æ­£è´Ÿæ•°å˜æˆåªæ‰¾è´Ÿæ•°å‰ªæï¼›ç”¨mapä»£æ›¿ç¨ å¯†çš„æ•°ç»„å‰ªæã€‚

```javascript
var findTargetSumWays = function(nums, target) {
    const sum = nums.reduce((sum, cur) => sum + cur);
    const neg = (sum - target) / 2;
    if (neg < 0 || neg % 1 !== 0) {
        return 0;
    }
    
    // mapé€šè¿‡ä¼ å…¥é”®å€¼å¯¹æ•°ç»„åˆå§‹åŒ–æˆ–è€…ç›´æ¥seté“¾å¼è°ƒç”¨
    let dp = new Map([[0, 1]]);
    
    for (let i = 0; i <= nums.length - 1; i++) {
        if (nums[i] > neg) continue;
        // å¦‚æœæ²¡æœ‰é€‰æ”¹å€¼ï¼Œåˆ™keyä¿æŒä¸å˜ï¼Œå³å¤åˆ¶åŸæ¥çš„mapé‡Œçš„key-value
        // dp.entries()è¿”å›äº†ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„ï¼Œæ­£å¥½æ˜¯new Map()éœ€è¦çš„å‚æ•°ï¼Œå¯ä»¥ç”¨æ­¤åŠæ³•å¤åˆ¶map
        const cur = new Map(dp.entries())
        dp.forEach((value, key) => {
            const temp = key + nums[i]
            // å¦‚æœé€‰æ‹©äº†æ”¹å€¼ï¼Œåˆ™å¯ä»¥ä»keyåŠ ä¸Šæ–°çš„å€¼nums[i]å¾—åˆ°æ–°çš„å’Œtemp
            // æ–°çš„tempåœ¨ä¸Šä¸€æ¬¡çŠ¶æ€é‡Œæœ¬èº«å¯ä»¥å¾—åˆ°çš„å¯èƒ½æ€§ + ä»keyåŠ æ–°å€¼nums[i]å¾—åˆ°tempçš„å¯èƒ½æ€§ï¼Œå°±æ˜¯tempçš„å¯èƒ½æ€§æ€»æ¬¡æ•°
            cur.set(temp, dp.has(temp) ? (dp.get(temp) + dp.get(key)) : dp.get(key))
        })
        dp = cur;
    }
    // è¿™é‡Œè¦æ³¨æ„ï¼Œæ²¡æœ‰å€¼çš„æ—¶å€™å¯èƒ½ä¸ºundefined
    return dp.has(neg) ? dp.get(neg) : 0;
};
```


## DP Version2
ä¸€ä¸ªéš¾ç‚¹æ˜¯æŠŠæ­£è´Ÿå·è½¬åŒ–ä¸ºæ‰¾æœ‰å‡ ä¸ªè´Ÿå·ã€‚
å¦ä¸€ä¸ªéš¾ç‚¹æ˜¯dpçš„åˆå§‹åŒ–ï¼Œdp[0]å³å’Œä¸º0çš„å€¼å…¶å®æ˜¯ä¸º1ï¼Œå³ä¸€ä¸ªéƒ½ä¸é€‰ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚
åŠ¨æ€è½¬ç§»æ–¹ç¨‹ä¹Ÿå¾ˆå…³é”®ï¼Œéœ€è¦åˆ†æƒ…å†µè½¬ç§»ï¼šå½“å€¼æœ¬èº«å°±å¤§è¿‡targetæ—¶ï¼Œç›´æ¥æ‹¿ä¸Šä¸€æ¬¡çš„å€¼ï¼Œå¦åˆ™ä¼šå‡ºç°NaNçš„æƒ…å†µã€‚

```javascript
var findTargetSumWays = function(nums, target) {
    const sum = nums.reduce((sum, cur) => sum + cur);
    const neg = (sum - target) / 2;
    // ç¡®å®šnegçš„å«ä¹‰ï¼š
    // negè¡¨ç¤ºæ‰€æœ‰ä¸ºè´Ÿæ•°çš„å€¼çš„åŠ å’Œ
    // ä¸ºè´Ÿæ•°æˆ–è€…å°æ•°éƒ½ä¸å¯èƒ½
    // ä¸º0å°±è¯´æ˜å…¨éƒ¨ä¸é€‰ï¼Œä¹Ÿæ˜¯ä¸€ç§å¯èƒ½è¦åŠ 1ï¼ï¼
    if (neg < 0 || neg % 1 !== 0) {
        return 0;
    }
    // dpæ•°ç»„çš„å«ä¹‰ä¸ºé€‰æˆ–è€…ä¸é€‰å½“å‰å€¼ï¼Œå¯ä»¥å¾—åˆ°indexçš„æ‰€æœ‰å¯èƒ½æ€§
    // ç¬¬ä¸€ä¸ªæ•°ç»„å«ä¹‰ä¸ºä¸€ä¸ªéƒ½ä¸é€‰çš„æƒ…å†µä¸‹ï¼Œå¾—åˆ°indexå€¼çš„å¯èƒ½æ€§
    // é™¤äº†indexä¸º0çš„æ—¶å€™å¯èƒ½æ€§ä¸º1ï¼Œå…¶ä½™éƒ½ä¸º0
    let dp = new Array(neg + 1).fill(0)
    dp[0] = 1;
    
    for (let i = 0; i <= nums.length - 1; i++) {
        // ä¸€å®šä¸è¦å¿˜è®°è¿™é‡Œè¦cloneè€Œä¸æ˜¯ç›´æ¥ç­‰äºï¼ï¼ï¼å¦åˆ™å°±åœ¨æ“ä½œåŒä¸€ä¸ªæ•°ç»„ï¼ï¼
        const temp = [...dp];
        // 0æœ¬èº«åªæœ‰ä¸€ç§å¯èƒ½ï¼Œå› æ­¤å¯ä»¥ç›´æ¥è·³è¿‡èµ‹å€¼ä¸º1ï¼Œä½†æ˜¯è¿™é‡Œnumsé‡Œå¯ä»¥å­˜0ï¼Œæ­£è´Ÿ0æ˜¯ä¸¤ç§å¯èƒ½æ€§ï¼Œå› æ­¤ä»»ç„¶è¦ä»0å¼€å§‹ç®—
        for (let j = 0; j <= neg; j++) {
            if (nums[i] <= j) {
                temp[j] = dp[j] + dp[j - nums[i]];
            } else {
                temp[j] = dp[j]
            }
        }
        dp = temp;
    }
    return dp[neg]
};
```


## Recursion
æš´åŠ›å›æº¯

```javascript
var findTargetSumWays = function(nums, target) {
    
    let result = 0;
    function recursion(sum, index){
        if (index === nums.length) {
            if (sum === target) {
                result++;
            }
            return;
        }
        recursion(+nums[index] + sum, index + 1);
        recursion(-nums[index] + sum, index + 1);
    }
    
    recursion(0, 0);
    return result;
};
```

